@page
@model MIST353ClassExample.Pages.jstestModel
@{
}
<script>
    const request = new Request("https://www.ncei.noaa.gov/cdo-web/api/v2/datasets", {
        headers: { token:"mytokenhere" },
    });

    const url = request.url;
    const method = request.method;
    const credentials = request.credentials;
    const bodyUsed = request.bodyUsed;

    fetch(request)
        .then((response) => {
            if (response.status === 200) {
                return response.json();
            } else {
                throw new Error("Something went wrong on API server!");
            }
        })
        .then((response) => {
            console.debug(response);
            document.getElementById("demo").innerHTML = JSON.stringify(response, undefined, 2);;
            // …
        })
        .catch((error) => {
            console.error(error);
        });


</script>
<pre id="demo"></pre>